<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Caroline Dahllof">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; U; IRIX64 6.2 IP28) [Netscape]">
   <meta name="Keywords" content="Gimp 16 bit film version">
   <title>Gimp's film version</title>
</head>
<body text="#3366FF" bgcolor="#000000" link="#FFCC33" vlink="#FFCC33" alink="#FFCC33">
<b><font face="Times New Roman,Times"><font size=+4>How
to install GIMP16 on SGI</font></font></b><b><font face="Times New Roman,Times"><font size=+4></font></font></b>
<p><b><font face="Times New Roman,Times"><font size=+4>Steve MacPherson</font></font></b><b><font face="Times New Roman,Times"><font size=+4></font></font></b>
<p>&nbsp; GENERAL
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Build and compile as self, not as root.
Switch to root for make install.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Seems obvious, easy to forget.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Make sure to get gcc and gmake installed
first!
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
http://freeware.sgi.com/index-by-alpha.html
<p>&nbsp; LIBRARIES.
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Make sure that the libs required by the
application are the right rev. for the src.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check:&nbsp;&nbsp;&nbsp; freshmeat.net,
slashdot.org for source.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check:&nbsp;&nbsp;&nbsp; Also, use search
engines (ie; altavista)
<p>&nbsp; ENVIRONMENT.
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Make sure that all the proper libs are
getting called in the right order.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH /dist/gimp16/gtk/bin:${PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARY_PATH /dist/gimp16/gtk/lib:${LD_LIBRARY_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARYN32_PATH \
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; /dist/gimp16/gtk/lib:${LD_LIBRARYN32_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH /usr/freeware/bin/:${PATH}
<p>&nbsp; CONFIGURE
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configure --prefix=/dist/gimp16/gtk
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Above sets Make to
place files in ... gtk directory
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; W/ Gimp16 there were
multiple libs and this keeps them organized
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rm config.cache
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If changes to configure
required, cleans up previous. Do this before
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; rerunning the preceding
configure.
<p>&nbsp; MAKE
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake&nbsp;&nbsp;&nbsp; as normal user
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake install&nbsp;&nbsp;&nbsp; as root
<p>&nbsp; RUNNING&nbsp;APP
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Will probably have problems w/ libs if
compiling multiples&nbsp; libs together
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (or with lib search order).&nbsp; See
GIMP16 example below.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A wrapper will solve all this (again,
see example below)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<br>&nbsp; GIMP EXAMPLE:
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Located source and downloaded to blueberry:/dist/gimp16
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dist/src/gimp16 is where all the various
unzipped, untarred source files reside.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dist/gimp16/gtk is where all the various
libs are installed, later we pull over those
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; that are needed by
the app (turns out to be all of them!&nbsp;Doh!)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/local/gimp16 is the final resting
home of all things required by gimp16.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; This becomes a symlink
to &lt;nfsserver>:/apps/gimp16 where the single dist
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; resides.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; (ie; /usr/local/gimp16/
-> /apps/gimp16)
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir /dist/src/gimp16
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd /dist/src/gimp16
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cp gimp-HOLLYWOOD-981202.tar gimp-data-HOLLYWOOD-981202.tar
.
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (cp libs below to /dist/src/gimp16)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LIBRARIES:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach i (autoconf-2.13.tar.gz&nbsp;
automake-1.2.tar.gz&nbsp; libtool-1.0.tar.gz
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gtk+-1.0.4.tar.gz)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Unpacking and untaring $i"
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/usr/sbin/gzip -dc $i |tar xvf -
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir -p /dist/gimp16/gtk
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH /usr/freeware/bin/:${PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; To make sure that
I am picking up the GNU stuff
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd automake-1.2
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configure --prefix=/dist/gimp16/gtk
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Set up the Makefile
to put results into .../gtk directory
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake install
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Root permissions
not required as directory is in my own tree
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REPEAT ABOVE FOR OTHER LIBS!
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Did in order: automake, autoconf, libtool
then gtk.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARYN32_PATH /dist/gimp16/gtk/lib:${LD_LIBRARYN32_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARY_PATH /dist/gimp16/gtk/lib:${LD_LIBRARY_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv PATH /dist/gimp16/gtk/bin:${PATH}
<br>&nbsp;
<br>&nbsp; GIMP16:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach i (gimp-HOLLYWOOD-981202.tar
gimp-data-HOLLYWOOD-981202.tar)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Unpacking and untaring $i"
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tar xvf $i
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMPORTANT&nbsp;NOTE:&nbsp;&nbsp;&nbsp;&nbsp;
configure --prefix=/usr/local/gimp16
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When configuring the actual gimp, set
the prefix to reflect it's final install location.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aclocal
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sets up M4 macros for automake.
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; automake -i
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; autoconf
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; configure --prefix=/usr/local/gimp16
--enable-gimpdir=~/.hollywood
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The --enable-gimpdir sets the env directory
to $HOME/.hollywood
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AND&nbsp;NOW&nbsp;I&nbsp;IS&nbsp;A&nbsp;SCREAMING&nbsp;MOFO!&nbsp;
After the compile:
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; su
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmake install
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Now, typically there will be some stuff
in the gtk libs that is not making it's way
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; over to the recently populated /usr/local/gimp16/lib
directory.&nbsp; An iterative process of fire
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; off the app, wait for the complaint
and locate, copy the missing lib.
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARY_PATH /usr/local/gimp16/lib:${LD_LIBRARY_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setenv LD_LIBRARYN32_PATH /usr/local/gimp16/lib:${LD_LIBRARYN32_PATH}
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/local/gimp16/bin/gimp
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 287746:./gimp: rld: Warning: Version
Search Suppressed in ./gimp Because Object
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libgtk.so in liblist has non-sgi interface
version (1.0)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 287746:./gimp: rld: Fatal Error: Cannot
Successfully map soname 'libgtk.so' under any
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of the filenames /usr/aw/maya/lib/libgtk.so:/usr/aw/
... etc ...
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cp /dist/gimp16/gtk/libgtk.* /usr/local/gimp16/lib
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; And on and on until it stops complaining!
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Place all app specific details in wrapper:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cat /usr/export/bin/gimp16
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #!/bin/csh
-f
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
gimp16
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
( -x /usr/local/gimp16/bin/gimp ) then
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if ( $?LD_LIBRARYN32_PATH ) then
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setenv LD_LIBRARYN32_PATH
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/usr/local/gimp16/lib:${LD_LIBRARY_PATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setenv LD_LIBRARYN32_PATH /usr/local/gimp16/lib
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $?MANPATH ) then
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setenv MANPATH&nbsp; /usr/local/gimp16/man:${MANPATH}
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setenv MANPATH&nbsp; /usr/local/gimp16/man
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/usr/local/gimp16/bin/gimp $argv
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; xconfirm -c -t "Buhuu... Can't find Gimp16..." -icon
warning
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
>&amp;/dev/null
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
endif
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
</body>
</html>
